<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mooncaf√©.space</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="A small, old-school caf√© on the internet where conversations come and go like passing clouds. Join mooncaf√©.space for anonymous, ephemeral, and private chat without accounts or history.">
    <meta name="keywords" content="chat-room, anonymous chat, ephemeral chat, private chat, mooncaf√©, online chat, no-signup chat, retro chat">
    <link rel="canonical" href="https://www.mooncafe.site">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.mooncafe.site/">
    <meta property="og:title" content="mooncaf√©.space">
    <meta property="og:description" content="A small, old-school caf√© on the internet where conversations come and go like passing clouds.">
    <meta property="og:image" content="https://raw.githubusercontent.com/ayahack89/mooncafe.space/main/chat-room-previews/chat-room-pic-one.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.mooncafe.site/">
    <meta property="twitter:title" content="mooncaf√©.space">
    <meta property="twitter:description" content="A small, old-school caf√© on the internet where conversations come and go like passing clouds.">
    <meta property="twitter:image" content="https://raw.githubusercontent.com/ayahack89/mooncafe.space/main/chat-room-previews/chat-room-pic-one.jpg">

    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <audio id="message-sound" src="/sounds/message.mp3" preload="auto"></audio>
    <audio id="join-sound" src="/sounds/join.mp3" preload="auto"></audio>
    <audio id="leave-sound" src="/sounds/leave.mp3" preload="auto"></audio>
    <audio id="click-sound" src="/sounds/click.mp3" preload="auto"></audio>

       <!-- Landing View -->
     <div id="landing-view">
        <div class="login-card">
            <h2>Welcome to mooncaf√©.space</h2>
            <p><q>A small, old-school caf√© on the internet where conversations come and go like passing clouds.</q></p>
            
            <div class="field-label">Nickname</div>
            <input type="text" id="nickname-input" placeholder="Enter your nickname" required>
            
            <div class="field-label">Flair (e.g. #nightowl)</div>
            <input type="text" id="flair-input" placeholder="Optional flair" maxlength="25">
            
            <button id="enter-button">Enter the caf√©</button>
            <p style="margin-top: 10px; font-size: 1px; color: #024cba;">No accounts, no history. Just strangers chatting.</p>
        </div>
    </div>

    <!-- Main Application Window -->
    <div class="main-window" id="chat-view">
        <!-- Title Bar -->
        <div class="title-bar">
            <div class="app-name">
                <i class="ri-contrast-2-line"></i>
                mooncaf√©.space
            </div>
            <div class="status-time" id="status-time">12:00 PM</div>
        </div>

        <!-- Menu Bar -->
        <div class="menu-bar">
            <div id="current-user-session" style="display: none;"></div>
            <div class="menu-item" id="change-nickname-btn">Change Nickname</div>
            <div class="menu-item" id="create-circle-btn">Create/Share Circle</div>
            <div class="menu-item" id="about-btn">mooncaf√©.space/About</div>
            <div class="menu-item" id="collaborate-btn">Collaborate</div>
            <a href="https://github.com/ayahack89/mooncafe.space" target="_blank" class="menu-item github-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                    </path>
                </svg>
            </a>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Left: Chat Pane -->
            <div class="chat-pane">
                <div id="user-list-toggle-btn" class="user-list-toggle-desktop">‚ùí</div>
                <div class="messages" id="message-container">
                    <!-- Messages will be loaded here -->
                </div>
            </div>

            <!-- Right: User List -->
            <div class="user-list" id="user-list-panel">
                <div class="user-list-header" id="user-list-header">0 Users >> 0 Ignored</div>
                <div class="users" id="user-list">
                    <!-- Users will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Bottom Control Bar -->
        <div class="control-bar">
            <div id="reply-indicator"></div>
            <div class="top-controls">
                <div class="font-controls">
                    <span>Fonts</span>
                    <select id="font-family-select">
                        <option value="Courier New" selected>Courier New</option>
                        <option value="Tahoma">Tahoma</option>
                        <option value="var(--font-chat-special)">Special Elite</option>
                        <option value="var(--font-chat-hand)">Patrick Hand</option>
                        <option value="Arial">Arial</option>
                        <option value="Verdana">Verdana</option>
                    </select>
                    <select id="font-size-select">
                        <option value="1em">10</option>
                        <option value="1.2em">12</option>
                        <option value="1.4em">14</option>
                    </select>
                    <p><em>`tap`<i class="ri-reply-line"></i></em> the message to reply</p>
                </div>
                <div class="style-controls">
                    <button class="style-button" id="bold-btn"><b>B</b></button>
                    <button class="style-button" id="italic-btn"><i>I</i></button>
                    <button class="style-button" id="underline-btn"><u>U</u></button>
                    <button class="emote-button" id="emote-picker-btn">üòä</button>
                </div>
            </div>
            <div class="bottom-controls">
                <div class="mini-buttons">
                    <button class="mini-btn" id="join-room-btn-open">Change Room</button>
                </div>
                <div class="message-controls">
                    <input type="text" id="message-input" placeholder="Say something...">
                    <button id="send-button">Send</button>
                </div>
                <div class="scroll-toggle">
                    <input type="checkbox" id="scroll-on-checkbox" checked>
                    <label for="scroll-on-checkbox">Scroll On</label>
                </div>
            </div>
        </div>
    </div>

    <!-- Join Room Modal -->
    <div class="modal-overlay" id="join-room-modal">
        <div class="modal">
            <div class="modal-titlebar">
                <span>Join a Room</span>
                <button class="modal-close-btn" data-target-modal="join-room-modal">&times;</button>
            </div>
            <div class="modal-content">
                <div class="join-help-pane">
                    <p>Welcome to mooncaf√©!</p>
                    <p>Select a category and then choose a room to join.</p>
                    <p class="red-warning">* This feature isn't live yet. Currently it's on under development. For now,
                        you can use
                        <b>"Create/Share Circle"</b> to generate a link and share it with your friends so you all can
                        jump in and
                        chat together : )
                    </p>
                </div>
                <div class="join-category-pane">
                    <div class="category-tree">
                        <ul>
                            <li>&#128193; General</li>
                            <li>&#128193; Hobbies</li>
                            <li>&#128193; Tech</li>
                        </ul>
                    </div>
                </div>
                <div class="join-rooms-pane">
                    <div class="rooms-list-container">
                        <ul class="room-list">
                            <li>#cafe</li>
                            <li>#lounge</li>
                            <li>#library</li>
                        </ul>
                    </div>
                    <button id="go-to-room-btn">Go to Room</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Emote Picker Modal -->
    <div class="modal-overlay" id="emote-picker-modal">
        <div class="modal">
            <div class="modal-titlebar">
                <span>Emotes</span>
                <button class="modal-close-btn" data-target-modal="emote-picker-modal">&times;</button>
            </div>
            <div class="modal-content" id="emote-grid">
                <!-- Emotes will be populated by JS -->
            </div>
        </div>
    </div>

    <!-- Circle Share Modal -->
    <div class="modal-overlay" id="share-circle-modal">
        <div class="modal">
            <div class="modal-titlebar">
                <span>Share this Circle</span>
                <button class="modal-close-btn" data-target-modal="share-circle-modal">&times;</button>
            </div>
            <div class="modal-content">
                <p>Create your own circle & invite others with this link:</p>
                <input type="text" id="share-link-input" readonly>
                <button id="copy-link-btn">Copy Link</button>
                <hr>
                <button id="new-circle-btn">Create a New Circle</button>
            </div>
        </div>
    </div>

    <!-- User Context Menu -->
    <div id="user-context-menu">
        <div data-action="pm">Private Message</div>
        <div data-action="profile">View Profile</div>
        <div data-action="ignore">Ignore</div>
    </div>

    <!-- About Modal -->
    <div class="modal-overlay" id="about-modal">
        <div class="modal">
            <div class="modal-titlebar">
                <span>About mooncafe.space</span>
                <button class="modal-close-btn" data-target-modal="about-modal">&times;</button>
            </div>
            <div class="modal-content">
                <h2><strong>The Story behind mooncaf√©.space</strong></h2>
                <p>
                    I built mooncaf√©.space because I missed the simplicity of the early internet those small,
                    no-pressure chatrooms from the 2000s where anyone could drop in, choose a nickname, talk for a
                    while, and disappear again without leaving a trail behind. No accounts, no profiles, no
                    algorithms watching over you. Just a quiet corner of the web where people could speak freely.
                </p>
                <p>
                    From a technical side, I wanted to keep things as lightweight and open as possible.
                    There is no database, no message history, and nothing stored permanently. Everything you see
                    here exists only in memory while you're connected. Once you leave, it's gone. This public
                    version runs on Render, so standard access logs may still exist on their end, but the chat
                    itself doesn't keep anything. If someone needs stronger privacy or even Tor-level anonymity,
                    I've made the entire source code available so anyone can run it on their own machine.
                </p>
                <p>
                    mooncaf√©.space isn't meant to be a secure or encrypted messaging service just a small,
                    old-school caf√© on the internet where conversations come and go like passing clouds.
                    I hope you enjoy your time here.
                </p>
                <p>Now grab a cup of coffee and enjoy : )</p>

                <p style="margin-top: 1.2em; font-size: 0.95em; opacity: 0.85; color:#dc3545;">
                    <strong>Friendly reminder:</strong> please don't use this chat for illegal or harmful content.
                    Each person is responsible for what they post here, and this platform cannot take
                    responsibility for anyone's actions.
                </p>
            </div>
        </div>
    </div>

    <!-- Collaborate Modal -->
    <div class="modal-overlay" id="collaborate-modal">
        <div class="modal">
            <div class="modal-titlebar">
                <span>Collaborate</span>
                <button class="modal-close-btn" data-target-modal="collaborate-modal">&times;</button>
            </div>
           <div class="modal-content">
                <h3>Interested in collaborating on mooncafe.space?</h3>
                <p>
                    Contact at:
                    <a href="mailto:ayanabha.c@aol.com">ayanabha.c@aol.com</a><br>
                    Or dm me on X (Twitter):
                    <a href="https://x.com/ayanabha08" target="_blank">x.com/ayanabha08</a>
                </p>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="main.js"></script>
</body>

</html>